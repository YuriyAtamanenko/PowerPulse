import{r as e,u as f,a as j,b as S,j as s,k as g,d as w,l as y,Q as a}from"./index-5c437c7c.js";import{C as b,W as I,a as D,b as k,T as F,c as P,F as W,A as v,d as T,S as A}from"./SignUpPage.styled-dd165c00.js";import{S as C}from"./Statistics-e9ef838b.js";import"./index.esm-7fe9f416.js";import"./styled-components.browser.esm-51ac6415.js";import"./default-desktop-2x-90147dc9.js";import"./default-mobile-2x-a3b76961.js";const O=()=>{const[d,p]=e.useState(!1),[c,l]=e.useState("password"),m=f(),t=j(),u=S(r=>r.auth.bodyData);e.useEffect(()=>{Object.keys(u).length>1&&t("/params")});const x=async(r,o)=>{console.log("handleSubmit",r,o);try{if(await w(r.email,r.password)!==null){const n=await m(y({email:r.email,password:r.password}));n.error?a.error("Invalid email or password"):(o.resetForm(),n.payload.bodyData.bodyData===void 0?t("/params"):t("/diary"))}else a.error("Invalid data")}catch(i){i.message==="Server error"&&a.error("Server error")}},h=()=>{p(r=>!r),l(r=>{if(r==="password")return"text";if(r==="text")return"password"})};return s.jsxs(b,{children:[s.jsx(I,{}),s.jsxs(D,{children:[s.jsxs(k,{children:[s.jsx(F,{children:"Sign In"}),s.jsx(g,{}),s.jsx(P,{children:"Welcome! Please enter your credentials to login to the platform:"})]}),s.jsx("div",{children:s.jsxs(W,{nameIsShown:!1,handleSubmit:x,toglePassword:h,passwordInput:c,isPassword:d,children:[s.jsx(v,{text:"Sign In",type:"submit"}),s.jsx(T,{text:"Donâ€™t have an account?",textLink:"Sign Up",to:"/signup"})]})})]}),s.jsx(A,{children:s.jsx(C,{})})]})};export{O as default};
