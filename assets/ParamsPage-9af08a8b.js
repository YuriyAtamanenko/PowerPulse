import{P as n,d as p,j as e,u as W,a as D,e as N}from"./index-51503fb6.js";import{c as b,e as v,f as k,d as g,F as f,a as s,E as l,b as y}from"./index.esm-79c7e826.js";import{e as R}from"./index-2904e75a.js";import"./createClass-cad41046.js";function w(r){const t=p.forwardRef(({field:a,form:i},c)=>{const[j,h]=p.useState(new Date),u=p.useRef(null),m=x=>{h(x),i.setFieldValue(a.name,x)};return p.useImperativeHandle(c,()=>({closeDatePicker:()=>{u.current&&u.current.setOpen(!1)}})),e.jsx(R,{showIcon:!0,selected:j,onChange:m,customInput:e.jsx("input",{...a}),ref:u})});t.propTypes={field:n.object.isRequired,form:n.object.isRequired};const o=a=>{const i={...r.data,...a};r.next(i)};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Get closer to your goals!"}),e.jsx("p",{children:"To ensure a personalized user experience and the proper functioning of our platform, we ask you to provide the following information about your weight, height and other relevant data:"})]}),e.jsx(g,{initialValues:{...r.data,isValid:!1},onSubmit:o,autoComplete:"off",validationSchema:_,enableReinitialize:!0,children:({isValid:a})=>e.jsxs(f,{children:[e.jsx(s,{name:"height",placeholder:"Height"}),e.jsx(l,{name:"height",component:"div",className:"error"}),e.jsx(s,{name:"currentWeight",placeholder:"Current Weight"}),e.jsx(l,{name:"currentWeight",component:"div",className:"error"}),e.jsx(s,{name:"desiredWeight",placeholder:"Desired Weight"}),e.jsx(l,{name:"desiredWeight",component:"div",className:"error"}),e.jsx(s,{name:"birthday",placeholder:"Birthday",autoComplete:"off",children:({field:i,form:c})=>e.jsx(t,{field:i,form:c})}),e.jsx(l,{name:"birthday",component:"div",className:"error"}),e.jsx("button",{type:"submit",disabled:!a,children:"Next"})]})})]})}const _=b().shape({height:v().required('Please enter your "Height"').typeError("Desired Weight must be a number").min(150,"Height must be 150 or more"),currentWeight:v().typeError("Current Weight must be a number").required('Please enter your "Current Weight"'),desiredWeight:v().typeError("Desired Weight must be a number").required('Please enter your "Desired Weight"'),birthday:k().required('Please enter your "Birthday"')});w.propTypes={data:n.object.isRequired,next:n.func.isRequired};const S=r=>{const t=o=>{const a={...r.data,...o};r.next(a)};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Get closer to your goals!"}),e.jsx("p",{children:"To ensure a personalized user experience and the proper functioning of our platform, we ask you to provide the following information about your weight, height and other relevant data:"})]}),e.jsx(g,{initialValues:r.data,onSubmit:t,validationSchema:C,children:({values:o})=>e.jsxs(f,{children:[e.jsxs("div",{children:[e.jsx("p",{children:"Blood"}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"blood",value:"1"}),"1",e.jsx(l,{name:"blood",component:"div",className:"error"})]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"blood",value:"2"}),"2"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"blood",value:"3"}),"3"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"blood",value:"4"}),"4"]}),e.jsx(l,{name:"blood",component:"div",className:"error"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Sex"}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"sex",value:"male"}),"Male"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"sex",value:"female"}),"Female"]}),e.jsx(l,{name:"sex",component:"div",className:"error"})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Level Activity"}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"levelActivity",value:"1"}),e.jsx(l,{name:"levelActivity",component:"div",className:"error"}),"Sedentary lifestyle (little or no physical activity)"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"levelActivity",value:"2"}),"Light activity (light exercises/sports 1-3 days per week)"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"levelActivity",value:"3"}),"Moderately active (moderate exercises/sports 3-5 days per week)"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"levelActivity",value:"4"}),"Very active (intense exercises/sports 6-7 days per week)"]}),e.jsxs("label",{children:[e.jsx(s,{type:"radio",name:"levelActivity",value:"5"}),"Extremely active (very strenuous exercises/sports and physical work)"]}),e.jsx(l,{name:"levelActivity",component:"div",className:"error"})]}),e.jsx("button",{type:"button",onClick:()=>r.prev(o),children:"Back"}),e.jsx("button",{type:"submit",children:"Next"})]})})]})},C=b().shape({blood:y().required("Please select a blood type"),sex:y().required("Please select a sex"),levelActivity:y().required("Please select a level of activity")});S.propTypes={data:n.object.isRequired,next:n.func.isRequired,prev:n.func.isRequired};const B=r=>{const t=W(),o=D(),a=async i=>{try{await t(N({email:r.data.email,name:r.data.name,password:r.data.password,height:r.data.height,currentWeight:r.data.currentWeight,desiredWeight:r.data.desiredWeight,birthday:"2005-06-17T07:27:41.902Z",blood:r.data.blood,sex:r.data.sex,levelActivity:r.data.levelActivity})),o("/diary"),r.next(i,!0)}catch(c){console.error("Error updating user:",c)}};return e.jsxs("div",{children:[e.jsxs("div",{children:[e.jsx("h2",{children:"Dear user"}),e.jsx("p",{children:"Thank you for filling in all the required data. We greatly appreciate your cooperation and commitment to a healthy lifestyle. The collected information will allow us to provide you with a more individual and personalized approach."})]}),e.jsx(g,{initialValues:r.data,onSubmit:a,children:({values:i})=>e.jsxs("div",{children:[e.jsx("button",{type:"button",onClick:()=>a(i),children:"Go"}),e.jsx("button",{type:"button",onClick:()=>r.prev(i),children:"Back"})]})})]})};B.propTypes={data:n.object.isRequired,next:n.func.isRequired,prev:n.func.isRequired};const A="_progressBarOne_12m4m_1",$="_progressBarTwo_12m4m_10",E="_progressBarThree_12m4m_19",V="_progressBarPart_12m4m_27",O="_completed_12m4m_32",F="_wrap_12m4m_36",d={progressBarOne:A,progressBarTwo:$,progressBarThree:E,progressBarPart:V,completed:O,wrap:F},P=({currentStep:r})=>{const t=r>=0;return e.jsx("div",{className:d.progressBarOne,children:e.jsx("div",{className:`${d.progressBarPart} ${t?d.completed:""}`})})},T=({currentStep:r})=>{const t=r>=1;return e.jsx("div",{className:d.progressBarTwo,children:e.jsx("div",{className:`${d.progressBarPart} ${t?d.completed:""}`})})},q=({currentStep:r})=>{const t=r>=2;return e.jsx("div",{className:d.progressBarThree,children:e.jsx("div",{className:`${d.progressBarPart} ${t?d.completed:""}`})})};P.propTypes={currentStep:n.number.isRequired};T.propTypes={currentStep:n.number.isRequired};q.propTypes={currentStep:n.number.isRequired};const z={display:"flex",marginTop:"20px"},L=()=>{const[r,t]=p.useState({height:"",currentWeight:"",desiredWeight:"",birthday:"",blood:"",sex:"",levelActivity:""}),[o,a]=p.useState(0),i=(h,u=!1)=>{const m={...r,...h};t(m),!u&&a(x=>x+1)},c=h=>{const u={...r,...h};t(u),a(m=>m-1)},j=[e.jsx(w,{next:i,data:r},"step1"),e.jsx(S,{next:i,prev:c,data:r},"step2"),e.jsx(B,{next:i,prev:c,data:r},"step3")];return e.jsxs("div",{children:[e.jsx("div",{children:j[o]}),e.jsxs("div",{style:z,children:[e.jsx(P,{currentStep:o}),e.jsx(T,{currentStep:o}),e.jsx(q,{currentStep:o})]})]})};export{L as default};
